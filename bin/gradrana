#!/usr/bin/env python3

import sys,argparse

import xml.sax
from gradrana.tei import TeiP5Parser

parser = argparse.ArgumentParser(description="Analyze a dramatic text.")
parser.add_argument("infile",
                    help="The input file containing the dramatic text.")
args = parser.parse_args()

xml_parser = xml.sax.make_parser()
tei = TeiP5Parser()
xml_parser.setContentHandler(tei)
xml_parser.setFeature(xml.sax.handler.feature_namespaces, True)
xml_parser.parse(args.infile)
#print(args.infile)

from gradrana.gliederung import Gliederung
from gradrana.konfiguration import *

verarbeitung = Gliederung(erste_rede=False)
verarbeitung = LatexKonfigurationsmatrix(auswertfunktion=praesenz, summen=True)
#verarbeitung = Konfigurationsmatrix(auswertfunktion=beitragsanzahl)
verarbeitung(tei.szenen, {})

#print(verarbeitung.personen, "\n\n", verarbeitung.kuerzel)




